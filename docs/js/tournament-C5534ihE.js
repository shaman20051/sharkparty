import{r as m,o as S,w as B,e as $,c as l,f as p,a as s,b as t,t as o,F as c,g as v,n as h,h as k,i as w,j as P,v as T,k as x,d as D}from"./script-_nmGqW4k.js";/* empty css                                                                   */import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={key:0,class:"tournament"},N={class:"tournament__title"},E={class:"tournament__info"},M={class:"tournament__info-label"},A={class:"tournament__info-value"},F={class:"tournament__tabs"},R={class:"tournament__tabs-header"},H={class:"tournament__tabs-content"},O={key:0,class:"tournament__tab tournament__tab--active"},q={class:"tournament__data"},G={class:"tournament__data-key"},J={class:"tournament__data-value"},K={key:1,class:"tournament__tab tournament__tab--active"},Q={class:"tournament__prizes-table"},V={class:"tournament__table-col"},W={class:"tournament__table-col"},X={key:2,class:"tournament__tab tournament__tab--active"},Y={class:"tournament__blinds-table"},Z={class:"tournament__table-col"},tt={class:"tournament__table-col"},et={class:"tournament__table-col"},at={class:"tournament__table-col"},nt={class:"tournament__table-col"},st={key:3,class:"tournament__tab tournament__tab--active"},ot={class:"tournament__filters",style:{"margin-bottom":"1rem",display:"flex",gap:"1rem","align-items":"center"}},lt=["value"],rt={class:"tournament__players-table"},it={class:"tournament__table-col"},_t={class:"tournament__table-col"},ut={class:"tournament__player"},dt=["src","alt"],ct={class:"tournament__player-name"},vt={class:"tournament__table-col"},mt={class:"tournament__table-col"},bt={class:"pagination"},pt=["onClick"],gt={__name:"Tournament",props:{tournament:Object},setup(y){const g=y,i=m({}),n=m("info"),r=m({}),u=m("all"),d=m(10),b=m(1);S(async()=>{}),B(()=>g.tournament,_=>{_&&(i.value=_,r.value={Старт:new Date(_.startTime).toLocaleString("ru-RU"),Гарантия:`$${_.info.prizePool.toLocaleString()}`,"Бай-ин":`$${_.info.buyIn}`,Статус:_.status.trim(),Длительность:_.duration})},{immediate:!0});const C=$(()=>{var a;const _=new Set((a=i.value.players)==null?void 0:a.map(e=>e.player.country.toUpperCase()));return Array.from(_||[])}),z=$(()=>i.value.players?u.value==="all"?i.value.players:i.value.players.filter(_=>_.player.country.toUpperCase()===u.value):[]),U=$(()=>{const _=(b.value-1)*d.value;return z.value.slice(_,_+d.value)}),j=$(()=>Math.ceil(z.value.length/d.value));return(_,a)=>i.value.info?(s(),l("section",L,[t("div",{class:"tournaments-grid__cell tournaments-grid__cell--details",onClick:a[0]||(a[0]=e=>_.$emit("close"))},a[7]||(a[7]=[t("a",{href:"#",class:"tournaments-grid__details-link"},"Список турниров",-1)])),t("h1",N,'Турнир "'+o(i.value.info.name)+'"',1),t("div",E,[(s(!0),l(c,null,v(r.value,(e,f)=>(s(),l("div",{class:"tournament__info-item",key:f},[t("span",M,o(f)+":",1),t("span",A,o(e),1)]))),128))]),t("div",F,[t("div",R,[t("button",{class:h(["tournament__tab-btn",{"tournament__tab-btn--active":n.value==="info"}]),onClick:a[1]||(a[1]=e=>n.value="info")},"Инфо",2),t("button",{class:h(["tournament__tab-btn",{"tournament__tab-btn--active":n.value==="prizes"}]),onClick:a[2]||(a[2]=e=>n.value="prizes")},"Призы",2),t("button",{class:h(["tournament__tab-btn",{"tournament__tab-btn--active":n.value==="blinds"}]),onClick:a[3]||(a[3]=e=>n.value="blinds")},"Блайнды",2),t("button",{class:h(["tournament__tab-btn",{"tournament__tab-btn--active":n.value==="players"}]),onClick:a[4]||(a[4]=e=>n.value="players")},"Игроки",2)]),t("div",H,[n.value==="info"?(s(),l("div",O,[t("div",q,[(s(!0),l(c,null,v(i.value.info,(e,f)=>(s(),l("div",{class:"tournament__data-row",key:f},[t("div",G,o(f),1),t("div",J,o(e),1)]))),128))])])):p("",!0),n.value==="prizes"?(s(),l("div",K,[t("div",Q,[a[8]||(a[8]=t("div",{class:"tournament__table-row tournament__table-row--header"},[t("div",{class:"tournament__table-col"},"Место"),t("div",{class:"tournament__table-col"},"Приз ($)")],-1)),(s(!0),l(c,null,v(i.value.prize,e=>(s(),l("div",{class:"tournament__table-row",key:e.place},[t("div",V,o(e.place),1),t("div",W,o(e.prize.toFixed(2)),1)]))),128))])])):p("",!0),n.value==="blinds"?(s(),l("div",X,[t("div",Y,[a[9]||(a[9]=k('<div class="tournament__table-row tournament__table-row--header" data-v-363be5ae><div class="tournament__table-col" data-v-363be5ae>Уровень</div><div class="tournament__table-col" data-v-363be5ae>Блайнды</div><div class="tournament__table-col" data-v-363be5ae>Анте</div><div class="tournament__table-col" data-v-363be5ae>Время (мин)</div><div class="tournament__table-col" data-v-363be5ae>Тайм-банк</div></div>',1)),(s(!0),l(c,null,v(i.value.blinds,e=>(s(),l("div",{class:"tournament__table-row",key:e.level},[t("div",Z,o(e.level),1),t("div",tt,o(e.blind),1),t("div",et,o(e.ante),1),t("div",at,o(e.mins),1),t("div",nt,o(e.timebank),1)]))),128))])])):p("",!0),n.value==="players"?(s(),l("div",st,[t("div",ot,[t("label",null,[a[11]||(a[11]=w(" Страна: ")),P(t("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>u.value=e)},[a[10]||(a[10]=t("option",{value:"all"},"Все",-1)),(s(!0),l(c,null,v(C.value,e=>(s(),l("option",{key:e,value:e},o(e),9,lt))),128))],512),[[T,u.value]])]),t("label",null,[a[13]||(a[13]=w(" Игроков на странице: ")),P(t("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>d.value=e)},a[12]||(a[12]=[t("option",{value:10},"10",-1),t("option",{value:20},"20",-1),t("option",{value:50},"50",-1)]),512),[[T,d.value]])])]),t("div",rt,[a[14]||(a[14]=k('<div class="tournament__table-row tournament__table-row--header" data-v-363be5ae><div class="tournament__table-col" data-v-363be5ae>Место</div><div class="tournament__table-col" data-v-363be5ae>Игрок</div><div class="tournament__table-col" data-v-363be5ae>Страна</div><div class="tournament__table-col" data-v-363be5ae>Результат</div></div>',1)),(s(!0),l(c,null,v(U.value,e=>(s(),l("div",{class:"tournament__table-row",key:e.rank},[t("div",it,o(e.rank),1),t("div",_t,[t("div",ut,[t("img",{src:e.player.avatar,alt:e.player.nickname,class:"tournament__player-avatar"},null,8,dt),t("span",ct,o(e.player.nickname),1)])]),t("div",vt,o(e.player.country.toUpperCase()),1),t("div",mt,o(e.chips),1)]))),128))]),t("div",bt,[(s(!0),l(c,null,v(j.value,e=>(s(),l("button",{key:e,onClick:f=>b.value=e,class:h(["pagination__link",{"pagination__link--active":b.value===e}])},o(e),11,pt))),128))])])):p("",!0)])])])):p("",!0)}},ft=I(gt,[["__scopeId","data-v-363be5ae"]]),ht={class:"tournaments-section"},kt={class:"tournaments-list"},yt={class:"tournaments-grid"},$t={class:"tournaments-grid__cell tournaments-grid__cell--date"},wt={class:"tournaments-grid__cell tournaments-grid__cell--name"},Ct={class:"tournaments-grid__cell tournaments-grid__cell--prize"},zt={class:"tournaments-grid__cell tournaments-grid__cell--buyin"},Pt={class:"tournaments-grid__cell tournaments-grid__cell--prize-structure"},Tt={class:"tournaments-grid__prize-value tournaments-grid__prize-value--green"},xt={class:"tournaments-grid__cell tournaments-grid__cell--details"},St=["onClick"],Ut={__name:"TournamentList",props:{tournaments:Array},setup(y){const g=i=>new Date(i).toLocaleString("ru-RU");return(i,n)=>(s(),l("div",null,[n[6]||(n[6]=t("h2",null,"Список турниров ЛИДЕРБОРДА",-1)),t("section",ht,[n[5]||(n[5]=k('<div class="tournaments-filters"><form class="tournaments-filters__form"><span class="tournaments-filters__label">Фильтровать по:</span><select class="tournaments-filters__select" name="status" aria-label="Статус турнира"><option value="all" selected>Все турниры</option><option value="finished">Законченные</option><option value="upcoming">Запланированные</option></select><select class="tournaments-filters__select" name="sort" aria-label="Сортировка"><option value="newest" selected>Сначала новые</option><option value="oldest">Сначала старые</option><option value="popular">По популярности</option><option value="leaderboards">По лидербордам</option></select><button type="submit" class="tournaments-filters__button" aria-label="Применить фильтры"><span class="tournaments-filters__button-text">Применить</span><svg class="tournaments-filters__button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20" aria-hidden="true"><path d="M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"></path></svg></button></form></div>',1)),t("div",kt,[n[3]||(n[3]=t("h2",{class:"tournaments-list__title"},"Турниры лидерборда",-1)),t("div",yt,[n[2]||(n[2]=k('<div class="tournaments-grid__header tournaments-grid__row"><div class="tournaments-grid__cell tournaments-grid__cell--date">Дата</div><div class="tournaments-grid__cell tournaments-grid__cell--name">Турнир</div><div class="tournaments-grid__cell tournaments-grid__cell--prize">Гарантия ($)</div><div class="tournaments-grid__cell tournaments-grid__cell--buyin">Бай-ин ($)</div><div class="tournaments-grid__cell tournaments-grid__cell--prize-structure">Призовые ($/вход/реентри)</div><div class="tournaments-grid__cell tournaments-grid__cell--leaderboard">Лидерборд</div><div class="tournaments-grid__cell tournaments-grid__cell--details"></div></div>',1)),(s(!0),l(c,null,v(y.tournaments,r=>(s(),l("div",{class:"tournaments-grid__row",key:r.startTime},[t("div",$t,o(g(r.startTime)),1),t("div",wt,o(r.tournamentName),1),t("div",Ct,"$"+o(r.info.prizePool),1),t("div",zt,"$"+o(r.info.buyIn),1),t("div",Pt,[t("span",Tt,[w(" $"+o(r.info.buyIn*r.info.registered+r.info.reEntry*r.info.reEntered)+" ",1),n[0]||(n[0]=t("br",null,null,-1)),w(" "+o(r.info.registered)+"/"+o(r.info.reEntered),1)])]),n[1]||(n[1]=t("div",{class:"tournaments-grid__cell tournaments-grid__cell--leaderboard"},[t("a",{href:"#",class:"tournaments-grid__leaderboard-link"},"Ежедневный")],-1)),t("div",xt,[t("a",{href:"#",class:"tournaments-grid__details-link",onClick:u=>i.$emit("select",r)},"Подробнее",8,St)])]))),128))]),n[4]||(n[4]=k('<div class="pagination"><a href="#" class="pagination__link" aria-label="Предыдущая страница">«</a><a href="#" class="pagination__link">1</a><a href="#" class="pagination__link pagination__link--active">2</a><a href="#" class="pagination__link">3</a><a href="#" class="pagination__link">4</a><a href="#" class="pagination__link" aria-label="Следующая страница">»</a></div>',1))])])]))}},jt={class:"tournament-page"},Bt={class:"tournament-page__left"},Dt={class:"tournament-page__right"},It={__name:"TournamentPage",setup(y){const g=m([]),i=m(null),n=r=>{i.value=r};return S(async()=>{const r="/sharkparty/",u=await fetch(`${r}/data/index_tournament.json`).then(b=>b.json()),d=await Promise.all(u.map(b=>fetch(`${r}/data/${b}`).then(C=>C.json())));g.value=d}),(r,u)=>(s(),l("div",jt,[t("div",Bt,[i.value?p("",!0):(s(),x(Ut,{key:0,onSelect:n,tournaments:g.value},null,8,["tournaments"]))]),t("div",Dt,[i.value?(s(),x(ft,{key:0,tournament:i.value,onClose:u[0]||(u[0]=d=>i.value=null)},null,8,["tournament"])):p("",!0)])]))}};D(It).mount("#tournament-app");
